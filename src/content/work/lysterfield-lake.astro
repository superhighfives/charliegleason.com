---
import CaseStudyLayout from "../../layouts/CaseStudyLayout.astro";
import Prose from "../../components/case-studies/Prose.astro";
import Picture from "../../components/case-studies/Picture.astro";
import Hero from "../../components/case-studies/Hero.astro";
import Intro from "../../components/case-studies/Intro.astro";
import Metadata from "../../components/case-studies/Metadata.astro";
import PictureZoom from "../../components/islands/PictureZoom";

const data = {
  title: "Lysterfield Lake",
  description: "An interactive, AI-generated 3D music video.",
  hero: "Lysterfield Lake is a song about a place outside Melbourne, Australia. It's about the endless summers of your youth, and the tiny changes in you that you don't even notice adding up. It's also about memories, which, like polaroids, fade and change over time.",
  highlight: "before:bg-[#E45C87]",
  gradient: "from-[#E45C87] to-[#F8CD0D]",
  ogImage: "/assets/case-studies/lysterfield-lake/banner.jpg",
  slug: "lysterfield-lake",
  metadata: [
    {
      name: "Team",
      content: [
        ["Charlie Gleason", "Design, development, 3D modelling"],
        ["Glen Maddern", "Support and Encouragement"],
      ],
    },
    { name: "Company", content: "Side project" },
    { name: "Timeline", content: "Early 2023 - December 2023" },
    { name: "Platform", content: "Web" },
    { name: "Industry", content: "Music" },
    { name: "Libraries", content: "Vite, React, Three.js, React Three Fiber" },
    { name: "Tools", content: "Blender, After Effects" },
  ],
};
---

<CaseStudyLayout data={data}>
  <Intro>
    <Hero gradient={data.gradient} hero={data.hero} />

    <p>I don't remember exactly when I wrote it in much the same way I don't remember exactly when I started this project, which has spanned the better part of a year and has all but consumed the most creative bits of my brain.</p>

    <p>I think it all began when I came across <a href="https://replicate.com/">Replicate</a> (and by extention, their open-source container for running machine learning models, <a href="https://github.com/replicate/cog">Cog</a>.) I was so inspired by their <a href="https://replicate.com/explore">Explore</a> page, and, if I'm being totally honest, I was worried about the cost of experimenting with AI. I'd set up a gaming PC in the weird limbo of the 2020 lockdowns, and these tools made it effortless (and for the most part, free) to try, and test, and many, many times, fail.</p>
  </Intro>

  <Metadata highlight={data.highlight} gradient={data.gradient} metadata={data.metadata} />

  <div class="full dark:border-neutral-800 max-sm:border-x">
    <PictureZoom client:visible src="/assets/case-studies/lysterfield-lake/image-polaroids-full.webp" alt="A selection of dreams from the final video." />
  </div>

  <Prose>
    <p>When I decided to release new music (it's been seven years since <a href="https://wewerebrightly.com/">the last Brightly record</a>) I knew I wanted to build something with these bits and pieces I'd been noodling with. I knew I wasn't great at making traditional music videos, and I felt empowered by the flexibility of the browsers, and the creative opportunties afforded by using machine learning and AI. I think the result is something greater than the sum of its parts.</p>

    <p>And there are a lot of parts.</p>

    <p>(Also, if you haven't seen the video, <a href="https://lysterfieldlake.com/">you should go and check it out</a> before I ruin the magic by shining a very bright light on exactly how it all works.)</p>
  </Prose>

  <div class="content">
    <Picture shadow src="/assets/case-studies/lysterfield-lake/image-screencast-preview.gif" alt="A preview GIF of the experience." />
  </div>

  <Prose>
    <p>(And if you'd <a href="https://youtu.be/a-9gGCQIPo8">rather check out a recording, you can jump over to YouTube</a> to see a simplified version that should give you a pretty good idea.)</p>
  </Prose>

  <div class="full">
    <Picture src="/assets/case-studies/lysterfield-lake/image-polaroid-three.webp" alt="Three polaroids containing the singer and lyrics overlaid." />
  </div>

  <Prose>
    <hr />

    <h1>What is it?</h1>

    <p><a href="https://lysterfieldlake.com/">Lysterfield Lake</a> is a 3D generative interactive music video. It works in the browser, using <a href="https://threejs.org/">Three.js</a> and <a href="https://docs.pmnd.rs/react-three-fiber/getting-started/introduction">react-three-fiber</a> to stitch together seven feeds of video frame by frame, turning a single piece of footage shot on an iPhone into a three-dimensional fever dream. It uses the accelerometer in your phone, if it's available, or your mouse if you're on a computer. It shows and hides the protagonist as you watch depending on your actions, offering a myriad of ways to experience it. New dreams can be added at any time.</p>

    <p>Behind the scenes it was modelled in <a href="https://www.blender.org/">Blender</a>, (using a polaroid model by <a href="https://sketchfab.com/edoardogalati">Edoardo Galati</a>), generated in python and shell scripts, and built in JavaScript. It is made up of entirely open-source projects that are freely available.</p>
  </Prose>

  <div class="full">
    <Picture src="/assets/case-studies/lysterfield-lake/image-dreams-grid.webp" alt="A frame of each of the initial dreams." mobile />
  </div>

  <Prose>
    <hr />

    <h1>The process</h1>

    <p>So, how does it work? I made a diagram to help.</p>
  </Prose>

  <div class="full">
    <Picture src="/assets/case-studies/lysterfield-lake/image-process-diagram.webp" alt="A diagram showing the process of how the technology works under the hood." themed mobile />
  </div>

  <Prose>
    <p>First, a single video file, shot on an iPhone, is fed through a series of python and shell scripts. The initial one splits the video into individual frames. These frames then go through a bunch of processes depending on their final output.</p>
  </Prose>

  <div class="content">
    <Picture shadow src="/assets/case-studies/lysterfield-lake/image-process-preview.gif" alt="A preview of the finished process." />
  </div>

  <Prose>
    <hr />

    <h1>Okay, how do I find out more?</h1>

    <p>If you'd like to check it out, you can do so here:<br />
    <a href="https://lysterfieldlake.com/">https://lysterfieldlake.com/</a></p>

    <p>If you'd like to share this project, that would be greatly appreciated. The project itself is entirely open-source, and available at the following GitHub repositories:</p>

    <ul>
      <li><a href="https://github.com/superhighfives/lysterfield-lake"><strong>Client App</strong></a> - A React app, powered by React and react-three-fiber.</li>
      <li><a href="https://github.com/superhighfives/lysterfield-lake-pipeline"><strong>Pipeline</strong></a> - The pipeline that generates the video used by the app, powered by python and shell-scripts.</li>
    </ul>

    <p>(<strong>Author's note:</strong> Fair warningâ€”it's not the cleanest code, and in the case of the pipeline, it's not something that will work locally out of the box. I definitely intended open-sourcing this to be educational, in the sense of "oh, that's how he did that!", as opposed to aspirational, like "oh, that's how he thinks React should be written??" It was a passion project, so maybe bear that in mind. Cheers.)</p>
  </Prose>

  <div class="sidebar">
    <Picture shadow src="/assets/case-studies/lysterfield-lake/image-cover-art.webp" alt="Brightly - Lysterfield Lake (cover art)" />

    <Prose>
      <small>
        <p>Thanks to all my mates who came on country walks while I filmed myself awkwardly mouthing along to my own music. To Ian and Georgia for filming the real thing in Scotland. And to everyone who told me I'm not too old to keep making things.</p>

        <p>Also, this project wouldn't have happened, like all my projects, without the support and encouragement of <a href="https://github.com/geelen">Glen Maddern</a>.</p>

        <p>Produced and Mixed by James Seymour in Naarm.<br />
        Mastered by Andrei "Ony" Eremin in Philadelphia.</p>

        <p>Thank you for listening.<br />
        <a href="http://twitter.com/wearebrightly">@wearebrightly</a> / wewerebrightly.com</p>
      </small>
    </Prose>
  </div>
</CaseStudyLayout>
