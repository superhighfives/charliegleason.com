---
import Link from '../ui/Link.astro';
import Title from '../ui/Title.astro';

interface Post {
  slug: string;
  url: string;
  date: string;
  title: string;
  description: string;
}

interface Props {
  posts: Post[];
  endpoint: string;
}

const { posts, endpoint } = Astro.props;
---

<div class="space-y-4">
  <div class="flex items-center gap-2">
    <Title>
      Recent writing{' '}
      <Link type="text" class="font-mono font-bold text-[0.625rem]" href={endpoint}>
        (code.charliegleason.com)
      </Link>
    </Title>
  </div>
  <div class="space-y-4">
    {posts.map((post) => (
      <div class="flex flex-col gap-2 text-sm">
        <div class="flex items-start flex-col gap-2 flex-1 max-w-full">
          <Link class="truncate max-w-full" href={post.url}>
            {post.title}
          </Link>
          {post.description && (
            <p class="truncate text-xs text-neutral-600 dark:text-neutral-400 max-w-full">
              {post.description}
            </p>
          )}
        </div>
      </div>
    ))}
  </div>
</div>
