---
type IconWeight = "bold" | "duotone" | "fill" | "light" | "regular" | "thin";

interface Props {
  name:
    | "x-logo"
    | "dribbble-logo"
    | "github-logo"
    | "envelope"
    | "magnifying-glass-plus"
    | "arrow-left"
    | "arrow-right";
  weight?: IconWeight;
  class?: string;
}

const { name, weight = "regular", class: className = "" } = Astro.props;

// Import all the SVGs we need
const svgImports: Record<string, Record<IconWeight, () => Promise<string>>> = {
  "x-logo": {
    fill: () => import("@phosphor-icons/core/assets/fill/x-logo-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/x-logo-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/x-logo.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/x-logo-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/x-logo-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/x-logo-duotone.svg?raw").then(m => m.default),
  },
  "dribbble-logo": {
    fill: () => import("@phosphor-icons/core/assets/fill/dribbble-logo-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/dribbble-logo-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/dribbble-logo.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/dribbble-logo-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/dribbble-logo-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/dribbble-logo-duotone.svg?raw").then(m => m.default),
  },
  "github-logo": {
    fill: () => import("@phosphor-icons/core/assets/fill/github-logo-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/github-logo-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/github-logo.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/github-logo-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/github-logo-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/github-logo-duotone.svg?raw").then(m => m.default),
  },
  "envelope": {
    fill: () => import("@phosphor-icons/core/assets/fill/envelope-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/envelope-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/envelope.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/envelope-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/envelope-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/envelope-duotone.svg?raw").then(m => m.default),
  },
  "magnifying-glass-plus": {
    fill: () => import("@phosphor-icons/core/assets/fill/magnifying-glass-plus-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/magnifying-glass-plus-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/magnifying-glass-plus.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/magnifying-glass-plus-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/magnifying-glass-plus-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/magnifying-glass-plus-duotone.svg?raw").then(m => m.default),
  },
  "arrow-left": {
    fill: () => import("@phosphor-icons/core/assets/fill/arrow-left-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/arrow-left-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/arrow-left.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/arrow-left-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/arrow-left-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/arrow-left-duotone.svg?raw").then(m => m.default),
  },
  "arrow-right": {
    fill: () => import("@phosphor-icons/core/assets/fill/arrow-right-fill.svg?raw").then(m => m.default),
    bold: () => import("@phosphor-icons/core/assets/bold/arrow-right-bold.svg?raw").then(m => m.default),
    regular: () => import("@phosphor-icons/core/assets/regular/arrow-right.svg?raw").then(m => m.default),
    light: () => import("@phosphor-icons/core/assets/light/arrow-right-light.svg?raw").then(m => m.default),
    thin: () => import("@phosphor-icons/core/assets/thin/arrow-right-thin.svg?raw").then(m => m.default),
    duotone: () => import("@phosphor-icons/core/assets/duotone/arrow-right-duotone.svg?raw").then(m => m.default),
  },
};

const svgString = await svgImports[name]?.[weight]?.() || "";
---

<span class:list={["inline-flex", className]} set:html={svgString} />

<style>
  span :global(svg) {
    width: 1em;
    height: 1em;
    fill: currentColor;
  }
</style>
